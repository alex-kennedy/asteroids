(this["webpackJsonpsolar-system"]=this["webpackJsonpsolar-system"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="\n  attribute float size;\n  attribute vec3 color_shader;\n\n  varying vec3 vColor;\n\n  void main() {\n\n    vColor = color_shader;\n\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    gl_PointSize = size * ( 300.0 / -mvPosition.z );\n\n    gl_Position = projectionMatrix * mvPosition;\n\n  }\n",i="\n  uniform vec3 color;\n  uniform sampler2D texture;\n\n  varying vec3 vColor;\n\n  void main() {\n\n    vec4 color = vec4( color * vColor, 1.0 ) * texture2D( texture, gl_PointCoord );\n\n    gl_FragColor = color;\n\n  }\n"},11:function(e){e.exports=JSON.parse('{"mercury":"#E9ECF3","venus":"#D8A63D","earth":"#67D864","mars":"#F34C4C","saturn":"#C2A664","jupiter":"#B97840","uranus":"#C4E2E2","neptune":"#4C90ED","pluto":"#CBC1B1","sun":"#F9D66A"}')},13:function(e,t,n){},20:function(e,t,n){"use strict";(function(e){var r=n(2),i=n(6),a=n(5),s=n(4),o=n(3),u=n(8),c=n.n(u),h=n(21),l=n(1),d=n.n(l),v=n(0),p=n(22),m=n(23),f=n.n(m),g=n(24),w=n(25),b=n(10),y=n(26),_=n.n(y),M=n(7),O=n(11),C=function(){var t=Object(h.a)(c.a.mark((function t(n){var r,i,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:return r=t.sent,t.next=5,r.arrayBuffer();case 5:return i=t.sent,a=f()(e(i)),t.abrupt("return",JSON.parse(new TextDecoder("utf-8").decode(a)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).start=i.start.bind(Object(a.a)(i)),i.stop=i.stop.bind(Object(a.a)(i)),i.animate=i.animate.bind(Object(a.a)(i)),i.updateDimensions=i.updateDimensions.bind(Object(a.a)(i)),i.renderBrightStars=i.renderBrightStars.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.createScene(),this.addControls(),this.addStats(),this.loadBrightStars(),this.addPlanets(),this.addSun(),window.addEventListener("resize",this.updateDimensions)}},{key:"createScene",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight,n=e/t,r=new v.WebGLRenderer,i=new v.PerspectiveCamera(45,n,.001,1e5),a=new v.Scene;a.add(i),r.setSize(e,t),r.setPixelRatio(window.devicePixelRatio),this.renderer=r,this.camera=i,this.scene=a,this.mount.appendChild(this.renderer.domElement),this.start()}},{key:"addControls",value:function(){var e=new p.a(this.camera,this.renderer.domElement);this.camera.position.set(0,0,20),e.enableDamping=!0,e.dampingFactor=.15,e.rotateSpeed=.5,e.maxDistance=100,this.controls=e}},{key:"addStats",value:function(){var e=new g.a;e.setMode(0),this.stats=e,this.mount.appendChild(this.stats.domElement)}},{key:"addCelestialSphereWireframe",value:function(){var e=new v.SphereGeometry(100,100,100),t=new v.MeshBasicMaterial({color:11184810,wireframe:!0});t.side=v.DoubleSide;var n=new v.Mesh(e,t);this.scene.add(n)}},{key:"loadBrightStars",value:function(){C("/solar-system/assets/bright_stars.json.br").then(this.renderBrightStars)}},{key:"renderBrightStars",value:function(e){for(var t=new Float32Array(e.length),n=new Float32Array(3*e.length),r=new Float32Array(3*e.length),i=new v.Color(1,1,1),a=0;a<e.length;a++)n[3*a]=e[a][1],n[3*a+1]=e[a][2],n[3*a+2]=e[a][3],t[a]=e[a][0]/2,i.toArray(r,3*a);var s=new v.BufferGeometry;s.setAttribute("position",new v.BufferAttribute(n,3)),s.setAttribute("size",new v.BufferAttribute(t,1)),s.setAttribute("color_shader",new v.BufferAttribute(r,3));var o=(new v.TextureLoader).load(_.a),u=new v.ShaderMaterial({uniforms:{color:{value:new v.Color(16777215)},texture:{value:o}},vertexShader:b.b,fragmentShader:b.a,transparent:!0}),c=new v.Points(s,u);this.scene.add(c)}},{key:"addSun",value:function(){var e=new v.SphereBufferGeometry(1,16,16),t=new v.MeshBasicMaterial({color:new v.Color("#F9D670")}),n=new v.Mesh(e,t);this.scene.add(n),this.sun=n}},{key:"addPlanets",value:function(){var e=[];for(var t in M)if(M.hasOwnProperty(t)){var n=new w.a(t,M[t],O[t]);n.initialiseOrbit(),e.push(n)}for(var r=0;r<e.length;r++){e[r].showInScene(this.scene,this.camera);var i=new v.SphereBufferGeometry(1,16,16),a=new v.MeshBasicMaterial({color:O[e[r].name]}),s=new v.Mesh(i,a),o=e[r].currentPosition;s.position.set(o.x,o.y,o.z),e[r].mesh=s,this.scene.add(s)}this.planets=e}},{key:"updateDimensions",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){this.stats.begin();for(var e=new v.Vector3,t=0;t<this.planets.length;t++){var n=e.subVectors(this.planets[t].mesh.position,this.camera.position).length()/250;this.planets[t].mesh.scale.set(n,n,n)}var r=e.subVectors(this.sun.position,this.camera.position).length()/250;this.sun.scale.set(r,r,r),this.renderer.render(this.scene,this.camera),this.controls.update(),this.stats.end(),this.frameId=requestAnimationFrame(this.animate)}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{style:{width:"100%",height:"100%"},ref:function(t){e.mount=t}})}}]),n}(l.Component);t.a=S}).call(this,n(32).Buffer)},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),i=n(6),a=n(4),s=n(3),o=n(0),u=n(9),c=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,i,a,s,o,u,c){var h;return Object(r.a)(this,n),(h=t.call(this)).type="OrbitCurve",h.focus=e,h.a=i,h.e=a,h.I=s,h.L=o,h.long_peri=u,h.long_node=c,h.arg_peri=h.long_peri-h.long_node,h}return Object(i.a)(n,[{key:"getPoint",value:function(e,t){var n=t||new o.Vector3,r=360*e,i=Math.PI/180,a=this.a*(Math.cos(i*r)-this.e),s=this.a*Math.sqrt(1-Math.pow(this.e,2))*Math.sin(i*r),u=Math.cos(i*this.arg_peri),c=Math.cos(i*this.long_node),h=Math.cos(i*this.I),l=Math.sin(i*this.arg_peri),d=Math.sin(i*this.long_node),v=Math.sin(i*this.I),p=(u*c-l*d*h)*a+(-l*c-u*d*h)*s,m=(u*d+l*c*h)*a+(-l*d+u*c*h)*s,f=l*v*a+u*v*s;return n.set(p,m,f)}}]),n}(o.Curve),h=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,i,a){var s;for(var o in Object(r.a)(this,n),(s=t.call(this,e)).color=a,s.time_centuries=s.getCenturiesTT(),i)i.hasOwnProperty(o)&&(s[o]=i[o][0]+s.time_centuries*i[o][1]);return s.arg_peri=s.long_peri-s.long_node,s.M=(s.L-s.long_peri+180)%360-180,s}return Object(i.a)(n,[{key:"solveKepler",value:function(e){e=e||1e-6;for(var t=180/Math.PI*this.e,n=this.M+t*Math.sin(Math.PI/180*this.M),r=360;Math.abs(r)>e;)n+=r=(this.M-(n-t*Math.sin(Math.PI/180*n)))/(1-this.e*Math.cos(Math.PI/180*n)),1;return n}},{key:"getCenturiesTT",value:function(){return(this.getNowTT()/86400-10957.5)/36525}},{key:"getNowTT",value:function(){return Date.now()/1e3+69.184}},{key:"initialiseOrbit",value:function(){this.curve=new c(this.focus,this.a,this.e,this.I,this.L,this.long_peri,this.long_node),this.E=this.solveKepler(),this.currentPosition=this.curve.getPoint(this.E/360)}},{key:"showInScene",value:function(e,t){var n=this.curve.getPoints(100),r=(new o.BufferGeometry).setFromPoints(n);r=r.getAttribute("position").array;var i=new u.MeshLine;i.setGeometry(r);var a=new u.MeshLineMaterial({useMap:!1,color:this.color,opacity:1,resolution:new o.Vector2(window.innerWidth,window.innerHeight),sizeAttenuation:!1,lineWidth:5,near:t.near,far:t.far}),s=new o.Mesh(i.geometry,a);e.add(s)}}]),n}((function e(t,n,i,a,s,u,c,h){Object(r.a)(this,e),this.name=t||"",this.focus=n||new o.Vector3(0,0,0),this.a=i,this.e=a,this.I=s,this.L=u,this.long_peri=c,this.long_node=h}))},26:function(e,t,n){e.exports=n.p+"static/media/star.85baf2a7.svg"},27:function(e,t,n){e.exports=n(44)},44:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(19),s=n.n(a),o=(n(13),n(2)),u=n(6),c=n(4),h=n(3),l=n(20),d=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"container"},i.a.createElement(l.a,null)),i.a.createElement("div",{id:"interface"}))}}]),n}(i.a.Component);s.a.render(i.a.createElement(d,null),document.getElementById("wrapper"))},7:function(e){e.exports=JSON.parse('{"earth":{"a":[1.00000261,0.00000562],"e":[0.01671123,-0.00004392],"I":[-0.00001531,-0.01294668],"L":[100.46457166,35999.37244981],"long_peri":[102.93768193,0.32327364],"long_node":[0,0]},"jupiter":{"a":[5.202887,-0.00011607],"e":[0.04838624,-0.00013253],"I":[1.30439695,-0.00183714],"L":[34.39644051,3034.74612775],"long_peri":[14.72847983,0.21252668],"long_node":[100.47390909,0.20469106]},"mars":{"a":[1.52371034,0.00001847],"e":[0.0933941,0.00007882],"I":[1.84969142,-0.00813131],"L":[-4.55343205,19140.30268499],"long_peri":[-23.94362959,0.44441088],"long_node":[49.55953891,-0.29257343]},"mercury":{"a":[0.38709927,3.7e-7],"e":[0.20563593,0.00001906],"I":[7.00497902,-0.00594749],"L":[252.2503235,149472.67411175],"long_peri":[77.45779628,0.16047689],"long_node":[48.33076593,-0.12534081]},"neptune":{"a":[30.06992276,0.00026291],"e":[0.00859048,0.00005105],"I":[1.77004347,0.00035372],"L":[-55.12002969,218.45945325],"long_peri":[44.96476227,-0.32241464],"long_node":[131.78422574,-0.00508664]},"pluto":{"a":[39.48211675,-0.00031596],"e":[0.2488273,0.0000517],"I":[17.14001206,0.00004818],"L":[238.92903833,145.20780515],"long_peri":[224.06891629,-0.04062942],"long_node":[110.30393684,-0.01183482]},"saturn":{"a":[9.53667594,-0.0012506],"e":[0.05386179,-0.00050991],"I":[2.48599187,0.00193609],"L":[49.95424423,1222.49362201],"long_peri":[92.59887831,-0.41897216],"long_node":[113.66242448,-0.28867794]},"uranus":{"a":[19.18916464,-0.00196176],"e":[0.04725744,-0.00004397],"I":[0.77263783,-0.00242939],"L":[313.23810451,428.48202785],"long_peri":[170.9542763,0.40805281],"long_node":[74.01692503,0.04240589]},"venus":{"a":[0.72333566,0.0000039],"e":[0.00677672,-0.00004107],"I":[3.39467605,-0.0007889],"L":[181.9790995,58517.81538729],"long_peri":[131.60246718,0.00268329],"long_node":[76.67984255,-0.27769418]}}')}},[[27,1,2]]]);
//# sourceMappingURL=main.36e8c82e.chunk.js.map