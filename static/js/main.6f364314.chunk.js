(this["webpackJsonpsolar-system"]=this["webpackJsonpsolar-system"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="\n  attribute float size;\n  attribute vec3 color_shader;\n\n  varying vec3 vColor;\n\n  void main() {\n\n    vColor = color_shader;\n\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    gl_PointSize = size * ( 300.0 / -mvPosition.z );\n\n    gl_Position = projectionMatrix * mvPosition;\n\n  }\n",a="\n  uniform vec3 color;\n  uniform sampler2D texture;\n\n  varying vec3 vColor;\n\n  void main() {\n\n    vec4 color = vec4( color * vColor, 1.0 ) * texture2D( texture, gl_PointCoord );\n\n    gl_FragColor = color;\n\n  }\n"},13:function(e){e.exports=JSON.parse('{"mercury":"#E9ECF3","venus":"#D8A63D","earth":"#67D864","mars":"#F34C4C","saturn":"#C2A664","jupiter":"#B97840","uranus":"#C4E2E2","neptune":"#4C90ED","pluto":"#CBC1B1","sun":"#F9D66A"}')},14:function(e){e.exports=JSON.parse('{"colours":{"trojan":"#c8d1ea","q_bound":"#bde3e9","hungaria":"#bef1e8","neo":"#d3fbe5","hilda":"#ffc8b7","distant":"#e25969","other":"#A8414B"},"opacity":{"trojan":0.75,"q_bound":1,"hungaria":1,"neo":0.35,"hilda":0.75,"distant":1,"other":0.5}}')},16:function(e,t,n){},23:function(e,t,n){"use strict";(function(e){var r=n(24),a=n(7),i=n(2),s=n(6),o=n(3),c=n(5),u=n(4),h=n(10),l=n.n(h),d=n(25),f=n(1),v=n.n(f),p=n(0),m=n(26),g=n(27),b=n.n(g),w=n(28),y=n(29),M=n(30),_=n(12),O=n(31),j=n.n(O),C=n(9),S=n(13),P=n(14),A=function(){var t=Object(d.a)(l.a.mark((function t(n){var r,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:return r=t.sent,t.next=5,r.arrayBuffer();case 5:return a=t.sent,i=b()(e(a)),t.abrupt("return",JSON.parse(new TextDecoder("utf-8").decode(i)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).start=r.start.bind(Object(o.a)(r)),r.stop=r.stop.bind(Object(o.a)(r)),r.animate=r.animate.bind(Object(o.a)(r)),r.updateDimensions=r.updateDimensions.bind(Object(o.a)(r)),r.renderBrightStars=r.renderBrightStars.bind(Object(o.a)(r)),r.renderAsteroids=r.renderAsteroids.bind(Object(o.a)(r)),r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.createScene(),window.addEventListener("resize",this.updateDimensions),this.addControls(),this.addStats(),this.loadBrightStars(),this.addPlanets(),this.addSun(),this.loadAsteroids()}},{key:"createScene",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight,n=e/t,r=new p.WebGLRenderer,a=new p.PerspectiveCamera(45,n,.001,1e5),i=new p.Scene;i.add(a),r.setSize(e,t),r.setPixelRatio(window.devicePixelRatio),this.renderer=r,this.camera=a,this.scene=i,this.mount.appendChild(this.renderer.domElement),this.start()}},{key:"addControls",value:function(){var e=new m.a(this.camera,this.renderer.domElement);this.camera.position.set(0,0,20),e.enableDamping=!0,e.dampingFactor=.15,e.rotateSpeed=.5,e.maxDistance=100,this.controls=e}},{key:"addStats",value:function(){var e=new w.a;e.setMode(0),this.stats=e,this.mount.appendChild(this.stats.domElement)}},{key:"addCelestialSphereWireframe",value:function(){var e=new p.SphereGeometry(100,100,100),t=new p.MeshBasicMaterial({color:11184810,wireframe:!0});t.side=p.DoubleSide;var n=new p.Mesh(e,t);this.scene.add(n)}},{key:"loadBrightStars",value:function(){A("/solar-system/assets/bright_stars.json.br").then(this.renderBrightStars)}},{key:"renderBrightStars",value:function(e){for(var t=new Float32Array(e.length),n=new Float32Array(3*e.length),r=new Float32Array(3*e.length),a=new p.Color(1,1,1),i=0;i<e.length;i++)n[3*i]=e[i][1],n[3*i+1]=e[i][2],n[3*i+2]=e[i][3],t[i]=e[i][0]/2,a.toArray(r,3*i);var s=new p.BufferGeometry;s.setAttribute("position",new p.BufferAttribute(n,3)),s.setAttribute("size",new p.BufferAttribute(t,1)),s.setAttribute("color_shader",new p.BufferAttribute(r,3));var o=(new p.TextureLoader).load(j.a),c=new p.ShaderMaterial({uniforms:{color:{value:new p.Color(16777215)},texture:{value:o}},vertexShader:_.b,fragmentShader:_.a,transparent:!0}),u=new p.Points(s,c);this.scene.add(u)}},{key:"addSun",value:function(){var e=new p.SphereBufferGeometry(1,16,16),t=new p.MeshBasicMaterial({color:new p.Color("#F9D670")}),n=new p.Mesh(e,t);this.scene.add(n),this.sun=n}},{key:"addPlanets",value:function(){var e=[];for(var t in C)if(C.hasOwnProperty(t)){var n=new M.a(t,C[t],S[t]);n.initialiseOrbit(),e.push(n)}for(var r=0;r<e.length;r++){e[r].showInScene(this.scene,this.camera);var a=new p.SphereBufferGeometry(1,16,16),i=new p.MeshBasicMaterial({color:S[e[r].name]}),s=new p.Mesh(a,i),o=e[r].currentPosition;s.position.set(o.x,o.y,o.z),e[r].mesh=s,this.scene.add(s)}this.planets=e}},{key:"loadAsteroids",value:function(){A("/solar-system/assets/asteroids.json.br").then(this.renderAsteroids)}},{key:"renderAsteroids",value:function(e){console.log(e);for(var t=0,n=Object.entries(e);t<n.length;t++){var i,s=Object(a.a)(n[t],2),o=s[0],c=s[1],u=new Float32Array(3*c.length),h=Object(r.a)(c.entries());try{for(h.s();!(i=h.n()).done;){var l=Object(a.a)(i.value,2),d=l[0],f=l[1],v=Object(y.a)(f),m=Object(a.a)(v,3),g=m[0],b=m[1],w=m[2];u[3*d]=g,u[3*d+1]=b,u[3*d+2]=w}}catch(j){h.e(j)}finally{h.f()}var M=new p.BufferGeometry;M.setAttribute("position",new p.BufferAttribute(u,3));var _=new p.PointsMaterial({color:new p.Color(P.colours[o]),size:.05,transparent:!0,opacity:P.opacity[o]}),O=new p.Points(M,_);this.scene.add(O)}}},{key:"updateDimensions",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){this.stats.begin();for(var e=new p.Vector3,t=0;t<this.planets.length;t++){var n=e.subVectors(this.planets[t].mesh.position,this.camera.position).length()/250;this.planets[t].mesh.scale.set(n,n,n)}var r=e.subVectors(this.sun.position,this.camera.position).length()/250;this.sun.scale.set(r,r,r),this.renderer.render(this.scene,this.camera),this.controls.update(),this.stats.end(),this.frameId=requestAnimationFrame(this.animate)}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{style:{width:"100%",height:"100%"},ref:function(t){e.mount=t}})}}]),n}(f.Component);t.a=I}).call(this,n(37).Buffer)},29:function(e,t,n){"use strict";var r=n(7),a=function(e,t,n){var r=e+n*((new Date).getTime()/1e3-t)/86400;return r%=2*Math.PI},i=function(e,t,n){var r;r=e>Math.PI?e-t/2:e+t/2;for(var a=99;Math.abs(a)>n;)r-=a=(r-t*Math.sin(r)-e)/(1-t*Math.cos(r));return r},s=function(e,t,n){var r=e*(1-t*Math.cos(n)),a=Math.sqrt((2+t)/(1-t))*Math.tan(n/2),i=2*Math.atan(a);return[r*Math.cos(i),r*Math.sin(i)]},o=function(e,t,n,r,a){var i=Math.sin(n),s=Math.cos(n),o=Math.sin(r),c=Math.cos(r),u=Math.sin(a),h=Math.cos(a);return[(-o*h*i+c*s)*e+(-o*h*s-c*i)*t,(c*h*i+o*s)*e+(c*h*s-o*i)*t,u*i*e+u*c*t]};t.a=function(e){var t=a(e[0],e[1],e[2]),n=i(t,e[3],1e-6),c=s(e[7],e[3],n),u=Object(r.a)(c,2),h=u[0],l=u[1],d=o(h,l,e[4],e[5],e[6]),f=Object(r.a)(d,3);return[f[0],f[1],f[2]]}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n(6),i=n(5),s=n(4),o=n(0),c=n(11),u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e,a,i,s,o,c,u){var h;return Object(r.a)(this,n),(h=t.call(this)).type="OrbitCurve",h.focus=e,h.a=a,h.e=i,h.I=s,h.L=o,h.long_peri=c,h.long_node=u,h.arg_peri=h.long_peri-h.long_node,h}return Object(a.a)(n,[{key:"getPoint",value:function(e,t){var n=t||new o.Vector3,r=360*e,a=Math.PI/180,i=this.a*(Math.cos(a*r)-this.e),s=this.a*Math.sqrt(1-Math.pow(this.e,2))*Math.sin(a*r),c=Math.cos(a*this.arg_peri),u=Math.cos(a*this.long_node),h=Math.cos(a*this.I),l=Math.sin(a*this.arg_peri),d=Math.sin(a*this.long_node),f=Math.sin(a*this.I),v=(c*u-l*d*h)*i+(-l*u-c*d*h)*s,p=(c*d+l*u*h)*i+(-l*d+c*u*h)*s,m=l*f*i+c*f*s;return n.set(v,p,m)}}]),n}(o.Curve),h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e,a,i){var s;for(var o in Object(r.a)(this,n),(s=t.call(this,e)).color=i,s.time_centuries=s.getCenturiesTT(),a)a.hasOwnProperty(o)&&(s[o]=a[o][0]+s.time_centuries*a[o][1]);return s.arg_peri=s.long_peri-s.long_node,s.M=(s.L-s.long_peri+180)%360-180,s}return Object(a.a)(n,[{key:"solveKepler",value:function(e){e=e||1e-6;for(var t=180/Math.PI*this.e,n=this.M+t*Math.sin(Math.PI/180*this.M),r=360;Math.abs(r)>e;)n+=r=(this.M-(n-t*Math.sin(Math.PI/180*n)))/(1-this.e*Math.cos(Math.PI/180*n)),1;return n}},{key:"getCenturiesTT",value:function(){return(this.getNowTT()/86400-10957.5)/36525}},{key:"getNowTT",value:function(){return Date.now()/1e3+69.184}},{key:"initialiseOrbit",value:function(){this.curve=new u(this.focus,this.a,this.e,this.I,this.L,this.long_peri,this.long_node),this.E=this.solveKepler(),this.currentPosition=this.curve.getPoint(this.E/360)}},{key:"showInScene",value:function(e,t){var n=this.curve.getPoints(100),r=(new o.BufferGeometry).setFromPoints(n);r=r.getAttribute("position").array;var a=new c.MeshLine;a.setGeometry(r);var i=new c.MeshLineMaterial({useMap:!1,color:this.color,opacity:1,resolution:new o.Vector2(window.innerWidth,window.innerHeight),sizeAttenuation:!1,lineWidth:5,near:t.near,far:t.far}),s=new o.Mesh(a.geometry,i);e.add(s)}}]),n}((function e(t,n,a,i,s,c,u,h){Object(r.a)(this,e),this.name=t||"",this.focus=n||new o.Vector3(0,0,0),this.a=a,this.e=i,this.I=s,this.L=c,this.long_peri=u,this.long_node=h}))},31:function(e,t,n){e.exports=n.p+"static/media/star.85baf2a7.svg"},32:function(e,t,n){e.exports=n(49)},49:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(22),s=n.n(i),o=(n(16),n(2)),c=n(6),u=n(5),h=n(4),l=n(23),d=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"container"},a.a.createElement(l.a,null)),a.a.createElement("div",{id:"interface"}))}}]),n}(a.a.Component);s.a.render(a.a.createElement(d,null),document.getElementById("wrapper"))},9:function(e){e.exports=JSON.parse('{"earth":{"a":[1.00000261,0.00000562],"e":[0.01671123,-0.00004392],"I":[-0.00001531,-0.01294668],"L":[100.46457166,35999.37244981],"long_peri":[102.93768193,0.32327364],"long_node":[0,0]},"jupiter":{"a":[5.202887,-0.00011607],"e":[0.04838624,-0.00013253],"I":[1.30439695,-0.00183714],"L":[34.39644051,3034.74612775],"long_peri":[14.72847983,0.21252668],"long_node":[100.47390909,0.20469106]},"mars":{"a":[1.52371034,0.00001847],"e":[0.0933941,0.00007882],"I":[1.84969142,-0.00813131],"L":[-4.55343205,19140.30268499],"long_peri":[-23.94362959,0.44441088],"long_node":[49.55953891,-0.29257343]},"mercury":{"a":[0.38709927,3.7e-7],"e":[0.20563593,0.00001906],"I":[7.00497902,-0.00594749],"L":[252.2503235,149472.67411175],"long_peri":[77.45779628,0.16047689],"long_node":[48.33076593,-0.12534081]},"neptune":{"a":[30.06992276,0.00026291],"e":[0.00859048,0.00005105],"I":[1.77004347,0.00035372],"L":[-55.12002969,218.45945325],"long_peri":[44.96476227,-0.32241464],"long_node":[131.78422574,-0.00508664]},"pluto":{"a":[39.48211675,-0.00031596],"e":[0.2488273,0.0000517],"I":[17.14001206,0.00004818],"L":[238.92903833,145.20780515],"long_peri":[224.06891629,-0.04062942],"long_node":[110.30393684,-0.01183482]},"saturn":{"a":[9.53667594,-0.0012506],"e":[0.05386179,-0.00050991],"I":[2.48599187,0.00193609],"L":[49.95424423,1222.49362201],"long_peri":[92.59887831,-0.41897216],"long_node":[113.66242448,-0.28867794]},"uranus":{"a":[19.18916464,-0.00196176],"e":[0.04725744,-0.00004397],"I":[0.77263783,-0.00242939],"L":[313.23810451,428.48202785],"long_peri":[170.9542763,0.40805281],"long_node":[74.01692503,0.04240589]},"venus":{"a":[0.72333566,0.0000039],"e":[0.00677672,-0.00004107],"I":[3.39467605,-0.0007889],"L":[181.9790995,58517.81538729],"long_peri":[131.60246718,0.00268329],"long_node":[76.67984255,-0.27769418]}}')}},[[32,1,2]]]);
//# sourceMappingURL=main.6f364314.chunk.js.map